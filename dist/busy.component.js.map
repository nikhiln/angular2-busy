{"version":3,"file":"busy.component.js","sourceRoot":"","sources":["../src/busy.component.ts"],"names":[],"mappings":"AAAA;;;GAGG;OAEI,EACH,SAAS,EACT,OAAO,EAEP,KAAK,EACL,UAAU,EACV,OAAO,EACV,MAAM,eAAe;OAEf,EAAC,qBAAqB,EAAC,MAAM,2BAA2B;AAG/D,IAAM,aAAa,GAAG,KAAK,CAAC;IACxB,OAAO,EAAE,CAAC;IACV,SAAS,EAAE,mBAAmB;CACjC,CAAC,CAAC;AACH,IAAM,MAAM,GAAG,UAAU,CAAC;AAIzB,CAAC;AAGF;IAQI,uBAAoB,OAA8B;QAA9B,YAAO,GAAP,OAAO,CAAuB;QAJlD,YAAO,GAAiB;YACpB,OAAO,EAAE,EAAE;SACd,CAAC;IAGF,CAAC;IAED,gCAAQ,GAAR;QACI,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;IACnC,CAAC;IACE,wBAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;oBACtB,QAAQ,EAAE,SAAS;oBACnB,QAAQ,EAAE,gOAKT;oBACD,UAAU,EAAE;wBACR,OAAO,CAAC,UAAU,EAAE;4BAChB,UAAU,CAAC,WAAW,EAAE;gCACpB,aAAa;gCACb,OAAO,CAAC,MAAM,CAAC;6BAClB,CAAC;4BACF,UAAU,CAAC,WAAW,EAAE;gCACpB,OAAO,CAAC,MAAM,EAAE,aAAa,CAAC;6BACjC,CAAC;yBACL,CAAC;qBACL;iBACJ,EAAG,EAAE;KACL,CAAC;IACF,kBAAkB;IACX,4BAAc,GAAmE,cAAM,OAAA;QAC9F,EAAC,IAAI,EAAE,qBAAqB,GAAG;KAC9B,EAF6F,CAE7F,CAAC;IACF,oBAAC;AAAD,CAAC,AAxCD,IAwCC","sourcesContent":["/**\r\n * @file Component: Busy\r\n * @author yumao<yuzhang.lille@gmail.com>\r\n */\r\n\r\nimport {\r\n    Component,\r\n    trigger,\r\n    state,\r\n    style,\r\n    transition,\r\n    animate\r\n} from '@angular/core';\r\n\r\nimport {PromiseTrackerService} from './promise-tracker.service';\r\n\r\n\r\nconst inactiveStyle = style({\r\n    opacity: 0,\r\n    transform: 'translateY(-40px)'\r\n});\r\nconst timing = '.3s ease';\r\n\r\nexport interface IBusyContext {\r\n    message: string;\r\n};\r\n\r\n\r\nexport class BusyComponent {\r\n    message: string;\r\n    wrapperClass: string;\r\n    template: string;\r\n    context: IBusyContext = {\r\n        message: \"\"\r\n    };\r\n\r\n    constructor(private tracker: PromiseTrackerService) {\r\n    }\r\n\r\n    isActive() {\r\n        return this.tracker.isActive();\r\n    }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n    selector: 'ng-busy',\r\n    template: `\r\n        <div [class]=\"wrapperClass\" *ngIf=\"isActive()\" @flyInOut>\r\n            <DynamicComponent [componentTemplate]=\"template\" [componentContext]=\"context\">\r\n            </DynamicComponent>\r\n        </div>\r\n    `,\r\n    animations: [\r\n        trigger('flyInOut', [\r\n            transition('void => *', [\r\n                inactiveStyle,\r\n                animate(timing)\r\n            ]),\r\n            transition('* => void', [\r\n                animate(timing, inactiveStyle)\r\n            ])\r\n        ])\r\n    ]\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: PromiseTrackerService, },\n];\n}\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}